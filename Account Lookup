# Account Lookup System - Business Requirements (Updated)

## 1. Executive Summary

This document outlines the business requirements for an Account Lookup System supporting wire payments processing, encompassing real-time account validation, ISO 20022 compliance, sanctions screening, and integration with Fedwire, CHIPS, and SWIFT networks. The system ensures accurate debtor and creditor account verification while maintaining regulatory compliance and supporting high-volume transaction processing.

## 2. Scope and Objectives

### 2.1 Primary Objectives
- Provide real-time account lookup and validation for wire payment transactions
- Ensure compliance with Fedwire, CHIPS, and SWIFT ISO 20022 migration requirements
- Integrate sanctions screening and AML compliance into the lookup process
- Support structured addressing requirements per November 2025 Fedwire mandates
- Enable seamless multi-account support for debtors and creditors

### 2.2 In-Scope Account Types
- Domestic bank accounts (DDA, checking, savings)
- International correspondent accounts (nostro/vostro)
- SWIFT-enabled accounts with BIC identification
- CHIPS participant accounts
- Multi-currency accounts for international wire transfers

## 3. Functional Requirements

### 3.1 Account Identification and Retrieval
- System must support real-time account lookup using account number, IBAN, or routing information
- Account validation must verify account existence, ownership, and current status
- System must retrieve complete account details including name, address, and bank information
- Multi-account lookup capability must allow selection from multiple debtor accounts
- Account ownership verification must be performed using micro-deposits, Plaid Auth, or equivalent methods

### 3.2 Debtor Account Requirements
- System must capture and validate debtor name matching account ownership records
- Debtor account number and routing information must be validated against bank records
- Ultimate debtor information must include structured postal addresses per Fedwire November 2025 requirements
- System must support multiple debtor account selection (checking, savings, business accounts)
- Debtor account status verification must include active status, no holds, and sufficient authorization

### 3.3 Creditor Account Requirements
- Creditor name and account details must be validated against beneficiary bank records
- Creditor account number must be verified for accuracy and existence
- Ultimate creditor information must comply with structured addressing requirements
- Agent BIC must be validated for international wire transfers
- Correspondent banking relationships must be verified for cross-border payments

### 3.4 Transaction Context Validation
- End-to-End ID must be generated and validated for transaction tracking
- Invoice reference information must be captured via remt.001 structured remittance
- Transaction amount and currency must be validated against account capabilities
- Payment purpose and regulatory codes must be verified for compliance

### 3.5 Account Status Validation
- Account must be verified as active and in good standing
- System must check for account closure, freezing, or delinquent status
- Ring-fencing, legal holds, and garnishments must be identified and flagged
- Account restrictions and transaction limits must be validated
- Dormant account status must be identified and handled appropriately

### 3.6 Multi-Account Support
- Debtors must be able to select from multiple authorized accounts
- Account ownership validation must be performed for each selectable account
- Account type restrictions (checking vs savings) must be enforced per transaction type
- Balance and limit verification must be performed for selected accounts
- Historical transaction patterns must be analyzed for fraud detection

### 3.7 Error Handling and Recovery
- Failed account lookups must pause transaction processing immediately
- Debtor and creditor notifications must be sent for lookup failures
- Alternative account selection options must be provided for failed lookups
- Account correction workflow must allow detail updates within 1-3 business days
- Retry mechanisms must be implemented for temporary lookup failures

### 3.8 Sanctions Screening Integration (Fircosoft)
- Intgerate with Fircosoft
- Real-time OFAC SDN list screening must be performed during account lookup
- Fircosoft or equivalent sanctions database integration required
- Positive matches must immediately block transaction processing
- False positive resolution workflow must be available for legitimate transactions
- Sanctions screening results must be logged with full audit trail

### 3.9 Transaction Logging and Audit
- All account lookup attempts must be logged with timestamp and user identification
- Lookup results and validation outcomes must be recorded with ISO 20022 references
- Failed lookup attempts must include detailed error codes and reasons
- Account validation steps must be traceable for compliance audits
- Seven-year retention period must be maintained for all lookup records per AML requirements

## 4. Non-Functional Requirements

### 4.1 Compliance Requirements
- Full compliance with Fedwire ISO 20022 standards effective July 14, 2025
- CHIPS ISO 20022 compliance per April 2024 requirements
- SWIFT MX (CBPR+) compliance by November 2025 deadline
- OFAC, AML, and FinCEN regulatory compliance throughout lookup process
- SEPA regulation compliance for European account lookups
- Seven-year data retention for all lookup records per AML requirements

### 4.2 Security Requirements
- AES-256 encryption for all sensitive account data at rest and in transit
- Account detail tokenization for IBAN and DDA information
- HTTPS/TLS 1.3 for all API communications
- OAuth 2.0 authentication for integration with external services
- Multi-factor authentication for administrative access
- End-to-end encryption for account lookup requests and responses

### 4.3 Performance Requirements
- Account lookup completion within 500ms for 95% of requests
- System must handle minimum 10,000 lookup requests per hour
- Concurrent processing of up to 1,000 simultaneous lookup requests
- Response time degradation must not exceed 10% under peak load
- Database query optimization for sub-100ms account retrieval

### 4.4 Scalability Requirements
- Horizontal scaling capability to support 100,000+ daily lookups
- Auto-scaling based on transaction volume and processing demand
- Load balancing across multiple processing nodes
- Database partitioning and sharding for large-scale account data
- Caching mechanisms for frequently accessed account information

### 4.5 Reliability Requirements
- 99.99% system uptime with maximum 4.38 minutes monthly downtime
- Automatic failover mechanisms for continuous lookup operations
- Database replication and backup systems for data protection
- Circuit breaker patterns for external API integration resilience
- Health monitoring and automated recovery procedures

### 4.6 Auditability Requirements
- Comprehensive logging of all lookup events with immutable timestamps
- Regulatory audit trail with ISO 20022 message references
- Tamper-evident log storage with cryptographic integrity verification
- Real-time compliance monitoring and alerting
- Automated compliance reporting generation

## 5. ISO 20022 and Messaging Standards (UPDATED)

### 5.1 Required Message Formats (CORRECTED)

**Note**: The original document incorrectly listed acmt.023 as a required message format. Based on current Fedwire implementation and market practices, the following are the correct message types for account lookup:

#### Core Payment Messages:
- **pacs.008** - Financial Institution to Financial Institution Customer Credit Transfer (primary wire transfer message)
- **pacs.009** - Financial Institution Credit Transfer (bank-to-bank transfers)
- **pacs.004** - Payment Return (for failed or returned payments)
- **pacs.002** - Financial Institution to Financial Institution Payment Status Report (status updates)

#### Account and Cash Management Messages:
- **camt.052** - Bank to Customer Account Report (intraday account activity)
- **camt.053** - Bank to Customer Statement (end-of-day account statements)
- **camt.054** - Bank to Customer Debit Credit Notification (individual transaction notifications)

#### Remittance Messages:
- **remt.001** - Remittance Advice (structured remittance information for invoice data)
- **remt.002** - Remittance Location Advice (pointer to remittance information location)

#### Administrative Messages:
- **admi.002** - Message Reject (for invalid or unprocessable messages)
- **head.001** - Business Application Header (message envelope)

**Important Note on acmt.023**: The acmt.023 (Identification Verification Request) and acmt.024 (Identification Verification Report) messages are primarily used for Verification of Payee (VOP) services in SEPA payments starting October 2025. These are not currently part of the standard Fedwire account lookup process, though they may be relevant for future enhanced account verification services.

### 5.2 Key Data Fields Implementation (UPDATED)

#### Debtor Information (Enhanced Requirements):
- **Debtor Name**: Full legal name matching account ownership records
- **Debtor Account**: Account number with proper formatting validation
- **Debtor Agent**: Bank identification (routing number/BIC)
- **Ultimate Debtor**: With structured postal addresses (mandatory post-November 2025)
  - Country (ISO 3166-1 alpha-2 code)
  - Structured address lines per CBPR+ hybrid/end-state requirements
  - City, state/province, postal code

#### Creditor Information (Enhanced Requirements):
- **Creditor Name**: Beneficiary name with validation against bank records
- **Creditor Account**: IBAN or account number with existence verification
- **Creditor Agent**: BIC code for agent bank
- **Ultimate Creditor**: With structured postal addresses (mandatory post-November 2025)
- **Intermediary Agent 1/2**: For correspondent banking chains

#### Transaction Data (Enhanced Requirements):
- **Amount**: Currency and amount with validation
- **Currency**: ISO 4217 currency codes
- **End-to-End ID**: Unique End-to-End Transaction Reference (UETR) - UUID v4 format
- **Transaction ID**: Unique transaction identifier
- **Instruction ID**: Payment instruction reference
- **Settlement Method**: Settlement mechanism (e.g., CLRG for clearing)

#### Remittance Information (Structured):
- **Structured Remittance Data**: Using remt.001 format
  - Invoice number, date, amount
  - Purchase order references
  - Contract numbers and terms
  - Tax information and regulatory codes
- **Unstructured Remittance**: Free-form text (maximum 140 characters for most systems)

#### Address Requirements (Post-November 2025):
- **Structured Format**: Department, sub-department, street name, building number
- **Country Code**: Mandatory ISO 3166-1 alpha-2
- **Address Type**: Postal vs. geolocation addressing
- **Validation Rules**: Address format validation per destination country

### 5.3 Network Interoperability (UPDATED)

#### Fedwire Funds Service:
- **Implementation Date**: July 14, 2025 (completed)
- **Format**: Native ISO 20022 XML (FAIM format sunset)
- **Message Envelope**: Business Application Header (head.001) required
- **UETR Requirement**: Mandatory for all value messages (pacs.008, pacs.009, pacs.004)

#### CHIPS Network:
- **Implementation Date**: April 2024 (completed)
- **Format**: Native ISO 20022 support
- **Interoperability**: Full compatibility with Fedwire ISO format

#### SWIFT Network:
- **CBPR+ Timeline**: November 2025 for enhanced data requirements
- **MT Format**: Continues alongside MX until further notice
- **Structured Addresses**: Hybrid/end-state requirements align with Fedwire

### 5.4 Message Validation and Processing (UPDATED)

#### Real-time Validation:
- **Schema Validation**: Against ISO 20022 XSD schemas
- **Business Rules**: Mandatory and conditional field validation
- **Cross-field Consistency**: Account/routing number combinations
- **UETR Format**: UUID v4 format validation (pattern: xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx)

#### Network-Specific Rules:
- **Fedwire**: UETR mandatory, structured addresses (post-Nov 2025)
- **CHIPS**: Full ISO 20022 compliance, high-value transaction focus
- **SWIFT**: CBPR+ data model compliance for cross-border payments

#### Error Handling:
- **admi.002**: For message format errors with specific error codes
- **pacs.002 RJCT**: For business rule violations
- **Timeout Handling**: For network communication failures

## 6. Integration Requirements

### 6.1 Payment Network Integration
- Direct integration with Fedwire for domestic account verification
- CHIPS network connectivity for high-value payment account validation
- SWIFT network integration for international account lookup
- Real-time API connectivity with 99.9% availability requirement
- Secure message encryption and authentication for all network communications

### 6.2 Account Verification Services
- Bank API direct connections for real-time account status
- Account ownership verification through multiple validation methods
- Third-party verification service fallback mechanisms
- Integration with emerging VOP (Verification of Payee) services

### 6.3 Bank API Integration (Hogan or Auto Retrieve)
- Direct bank API connections for major correspondent institutions
- Real-time account balance verification via camt.052 integration
- Account statement processing via camt.053 for reconciliation
- Secure API authentication and authorization protocols
- Rate limiting and throttling for bank API consumption

### 6.4 Sanctions Database Integration
- Real-time OFAC SDN list integration with hourly updates
- Fircosoft database connectivity for comprehensive sanctions screening
- Additional global sanctions list integration (EU, UN, etc.)
- Fuzzy matching algorithms for name and entity screening
- API-based screening with sub-second response times

## 7. Constraints and Limitations

### 7.1 Regulatory Constraints
- Mandatory compliance with Fedwire/CHIPS ISO 20022 effective dates
- SWIFT MX migration timeline adherence by November 2025
- Structured address implementation post-November 2025
- Mandatory OFAC/AML screening for all account lookups
- Data residency requirements for cross-border account information

### 7.2 Technical Constraints
- No local file I/O operations for account data storage
- API-only integration approach for external data sources
- Secure database storage for all account and lookup data
- Cloud-native architecture for scalability and reliability
- Microservices architecture for component isolation and scaling

### 7.3 Data Accuracy Constraints
- Real-time account detail accuracy requirement of 99.99%
- Account status validation must reflect current banking system state
- Cross-validation against multiple data sources for accuracy assurance
- Automated data quality monitoring and alerting
- Regular reconciliation with authoritative account databases

### 7.4 Authorization and Access Constraints
- Debtor account verification through micro-deposits or Plaid Auth
- Creditor account validation via SWIFT BIC or routing number verification
- Multi-level authorization for high-value transaction account lookups
- Role-based access control for system administration and monitoring
- Customer consent management for account information access

### 7.5 Error Handling Constraints
- Transaction pause requirement for any failed account lookup
- Immediate notification to all relevant parties for lookup failures
- 1-3 business day window for account correction and resubmission
- Alternative account selection workflow for failed primary lookups
- Escalation procedures for unresolvable account lookup issues

## 8. Success Criteria and KPIs

### 8.1 Accuracy Metrics
- 100% accuracy in account lookup results with zero false positives
- Account status validation accuracy of 99.99%
- Cross-reference validation success rate of 99.95%
- Sanctions screening accuracy with zero false negatives
- Data quality score maintenance above 99.9%

### 8.2 Compliance Metrics
- Zero regulatory violations in OFAC, AML, and banking audits
- 100% compliance with Fedwire, CHIPS, and SWIFT standards
- Complete audit trail availability for all regulatory examinations
- Timely regulatory reporting with 100% accuracy
- Sanctions screening completeness rate of 100%

### 8.3 Efficiency Metrics
- 95% reduction in transaction errors due to invalid account information
- Account lookup completion within 500ms for 95% of requests
- Straight-through processing rate of 95%+ for valid accounts
- Exception resolution within 5 minutes via dashboard interface
- System availability of 99.99% during business hours

### 8.5 Technical Performance Metrics
- System throughput of 100,000+ lookups per hour
- Database response time under 100ms for 99% of queries
- API integration uptime of 99.9% across all external services
- Memory and CPU utilization optimization below 80% under normal load
- Zero data loss incidents with complete backup recovery capability

## 9. Others

### 9.1 Testing Requirements
- **Unit Testing**: Comprehensive coverage of all lookup algorithms and validation logic
- **Integration Testing**: End-to-end testing with Fedwire, CHIPS, SWIFT, and bank APIs
- **Performance Testing**: Load testing with 10,000+ concurrent lookup requests
- **Security Testing**: Penetration testing and vulnerability assessment
- **Compliance Testing**: Regulatory requirement validation and audit simulation
- **User Acceptance Testing**: Real-world scenario testing with operations teams

### 9.2 Deployment Considerations
- **Blue-Green Deployment**: Zero-downtime deployment strategy for production updates
- **Canary Releases**: Gradual rollout with monitoring for new features
- **Rollback Procedures**: Immediate rollback capability for critical issues
- **Monitoring and Alerting**: Comprehensive system health monitoring
- **Documentation**: Complete technical and user documentation delivery

This comprehensive account lookup system ensures secure, compliant, and efficient validation of debtor and creditor accounts while supporting the transition to ISO 20022 standards across all major payment networks.
